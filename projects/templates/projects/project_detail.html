{% extends "base.html" %}

{% block content %}
  <h2 class="display-4 mb-3">{{ project.title }}</h2>
  {% if user.is_authenticated %}
    <div class="card bg-light mb-4">
      <div class="card-body text-end">
        <h5 class="card-title" style="float: left; margin-top: 5px;">Admin Controls</h5>
        <a href="{% url 'projects:project_edit' project.pk %}" class="btn btn-secondary">Edit Project</a>
        <a href="{% url 'projects:project_delete' project.pk %}" class="btn btn-danger">Delete Project</a>
      </div>
    </div>
  {% endif %}
  
  <div class="row g-5">
    <!-- Main content column -->
    <div class="col-lg-8">
      {% if project.image %}
        <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-fluid rounded shadow-sm mb-4">
      {% endif %}

      <p class="lead">{{ project.description }}</p>
    </div>

    <div class="col-lg-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Project Details</h5>
          <hr>

          <h6 class="mt-3">Technologies Used:</h6>
          <p>
            {% for tech in project.technologies.all %}
              <a href="{% url 'projects:technology_detail' tech.name %}" class="text-decoration-none">
                <span class="badge bg-secondary m-1">{{ tech.name }}</span>
              </a>
            {% endfor %}
          </p>

          <h6 class="mt-3">Category:</h6>
          <p>{{ project.category.name|default:"N/A" }}</p>

          <h6 class="mt-3">Project Link:</h6>
          <a href="{{ project.link }}" target="_blank" class="btn btn-primary w-100">View Project on GitHub</a>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}